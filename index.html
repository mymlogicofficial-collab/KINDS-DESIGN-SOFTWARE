<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <style>
        body { background: #000; color: #fff; margin: 0; font-family: monospace; overflow: hidden; height: 100vh; }
        #Top_Bar { height: 50px; border-bottom: 2px solid #39ff14; display: flex; align-items: center; justify-content: space-around; background: #111; }
        .btn { background: #222; color: #39ff14; border: 1px solid #39ff14; padding: 5px; border-radius: 4px; font-size: 10px; }
        #Canvas_Zone { flex-grow: 1; display: flex; justify-content: center; align-items: center; background: #1a1a1a; height: 50vh; overflow: hidden; }
        #Main_Canvas { background: #fff; touch-action: none; transition: transform 0.1s; }
        #Bottom_Drawer { height: 40vh; background: #111; border-top: 2px solid #333; padding: 10px; }
        .row { display: flex; align-items: center; margin-bottom: 10px; gap: 10px; }
        .preview { width: 40px; height: 30px; border: 1px solid #fff; }
    </style>
</head>
<body>
    <div id="Top_Bar">
        <button class="btn" onclick="snap()">ðŸ§² SNAP 0Â°</button>
        <button class="btn" onclick="alert('L-Vault')">[L] PROJECTS</button>
        <button class="btn" onclick="alert('M-Gateway')">[M] GATEWAY</button>
        <input type="range" min="0" max="360" value="0" oninput="rotate(this.value)">
    </div>

    <div id="Canvas_Zone">
        <canvas id="Main_Canvas"></canvas>
    </div>

    <div id="Bottom_Drawer">
        <div class="row">
            <span>[H] MIX:</span>
            <input type="color" id="c1" value="#0000ff" oninput="mix()">
            <input type="color" id="c2" value="#ff00ff" oninput="mix()">
            <input type="range" id="ratio" oninput="mix()">
            <div id="out" class="preview"></div>
        </div>
        <div class="row">
            <span>[G] SIZE:</span>
            <input type="range" id="sz" min="1" max="50" value="5">
        </div>
        <div class="row">
            <span>[F] LEAD:</span>
            <button class="btn" onclick="hardness=0.2">H (Hard)</button>
            <button class="btn" onclick="hardness=0.9">B (Soft)</button>
        </div>
    </div>

    <script>
        const cvs = document.getElementById('Main_Canvas');
        const ctx = cvs.getContext('2d');
        let drawing = false, activeColor = "#000", hardness = 0.5;

        cvs.width = window.innerWidth * 0.9;
        cvs.height = window.innerHeight * 0.4;

        function rotate(v) { cvs.style.transform = `rotate(${v}deg)`; }
        function snap() { cvs.style.transform = 'rotate(0deg)'; }

        function mix() {
            const r = document.getElementById('ratio').value / 100;
            const c1 = document.getElementById('c1').value, c2 = document.getElementById('c2').value;
            const rgb1 = [parseInt(c1.substring(1,3),16), parseInt(c1.substring(3,5),16), parseInt(c1.substring(5,7),16)];
            const rgb2 = [parseInt(c2.substring(1,3),16), parseInt(c2.substring(3,5),16), parseInt(c2.substring(5,7),16)];
            const m = rgb1.map((v, i) => Math.floor(v * (1-r) + rgb2[i] * r));
            activeColor = `rgb(${m[0]},${m[1]},${m[2]})`;
            document.getElementById('out').style.background = activeColor;
        }

        function getXY(e) {
            const rect = cvs.getBoundingClientRect();
            const x = (e.touches ? e.touches[0].clientX : e.clientX) - rect.left;
            const y = (e.touches ? e.touches[0].clientY : e.clientY) - rect.top;
            return { x, y };
        }

        function start(e) { drawing = true; ctx.beginPath(); }
        function move(e) {
            if (!drawing) return;
            const p = getXY(e);
            ctx.lineWidth = document.getElementById('sz').value;
            ctx.lineCap = 'round';
            ctx.strokeStyle = activeColor;
            ctx.globalAlpha = hardness;
            ctx.lineTo(p.x, p.y);
            ctx.stroke();
        }
        function end() { drawing = false; }

        cvs.addEventListener('mousedown', start);
        cvs.addEventListener('mousemove', move);
        window.addEventListener('mouseup', end);
        cvs.addEventListener('touchstart', (e) => { e.preventDefault(); start(e); });
        cvs.addEventListener('touchmove', (e) => { e.preventDefault(); move(e); });
        cvs.addEventListener('touchend', end);
        mix();
    </script>
</body>
</html>
