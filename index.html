<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>K.I.N.D.S. Workbench - DUAL MIX</title>
    <style>
        body { background: #0e0e0e; color: #e0e0e0; margin: 0; font-family: sans-serif; overflow: hidden; height: 100vh; display: flex; flex-direction: column; }
        
        /* [A] THE MAGNETS */
        #Area_A { width: 100%; height: 50px; background: #1a1a1a; display: flex; justify-content: space-around; align-items: center; border-bottom: 2px solid #39ff14; z-index: 10; }
        .mag-btn { background: #222; color: #39ff14; border: 1px solid #39ff14; padding: 5px 10px; border-radius: 4px; font-size: 11px; font-weight: bold; }

        /* THE CANVAS AREA */
        #Workspace { flex-grow: 1; display: flex; justify-content: center; align-items: center; background: #222; }
        #Main_Canvas { width: 85vw; height: 50vh; background: #fff; box-shadow: 0 0 30px #000; transition: transform 0.1s linear; position: relative; }

        /* [B-Z] THE WORKBENCH */
        #Workbench { width: 100%; background: #151515; border-top: 1px solid #333; max-height: 45vh; overflow-y: auto; padding-bottom: 30px; }
        .drawer { display: flex; align-items: center; padding: 12px; border-bottom: 1px solid #222; font-size: 13px; }
        .label { min-width: 90px; color: #888; font-weight: bold; font-size: 10px; text-transform: uppercase; }
        
        /* [H] DUAL MIXER UI */
        .mixer-well { display: flex; align-items: center; gap: 8px; background: #222; padding: 5px 10px; border-radius: 20px; border: 1px solid #444; }
        #Blend_Preview { width: 45px; height: 30px; border-radius: 4px; border: 2px solid #39ff14; margin-left: 10px; box-shadow: 0 0 10px rgba(57, 255, 20, 0.3); }
        input[type="range"] { flex-grow: 1; margin: 0 10px; }
    </style>
</head>
<body>

    <div id="Area_A">
        <button class="mag-btn" onclick="snap0()">üß≤ SNAP 0¬∞</button>
        <button id="lockBtn" class="mag-btn" onclick="toggleLock()">üîí MAG LOCK: OFF</button>
        <input type="range" min="0" max="360" value="0" oninput="rotateCanvas(this.value)">
    </div>

    <div id="Workspace">
        <div id="Main_Canvas"></div>
    </div>

    <div id="Workbench">
        <div class="drawer">
            <span class="label">[H] DUAL MIX:</span>
            <div class="mixer-well">
                <input type="color" id="color1" oninput="mixColors()" value="#ff00e1">
                <span style="color:#39ff14; font-weight:bold;">+</span>
                <input type="color" id="color2" oninput="mixColors()" value="#00f2ff">
            </div>
            <div id="Blend_Preview"></div>
        </div>

        <div class="drawer">
            <span class="label">[G] RATIO:</span>
            <input type="range" id="blendRatio" min="0" max="100" value="50" oninput="mixColors()">
        </div>

        <div class="drawer">
            <span class="label">[F] TOOLS:</span>
            <button class="mag-btn" onclick="useTool('H')">Lead H</button>
            <button class="mag-btn" onclick="useTool('B')">Lead B</button>
        </div>

        <div class="drawer">
            <span class="label">[J-K] TOKENS:</span>
            <span style="font-size: 20px; margin-left: 10px;">ü•É üß∏ üèÅ ü™¥</span>
        </div>
    </div>

    <script>
        let rotation = 0;
        let isLocked = false;
        const canvas = document.getElementById('Main_Canvas');

        // [A] MAGNET LOGIC
        function rotateCanvas(val) {
            if (!isLocked) {
                rotation = val;
                canvas.style.transform = `rotate(${rotation}deg)`;
            }
        }
        function snap0() {
            rotation = 0;
            canvas.style.transform = 'rotate(0deg)';
            isLocked = true;
            document.getElementById('lockBtn').innerText = "üîí MAG LOCK: ON";
        }
        function toggleLock() {
            isLocked = !isLocked;
            document.getElementById('lockBtn').innerText = isLocked ? "üîí MAG LOCK: ON" : "üîí MAG LOCK: OFF";
        }

        // [H] SE CUSTOM DUAL COLOR BLENDING MATH
        function mixColors() {
            const c1 = document.getElementById('color1').value;
            const c2 = document.getElementById('color2').value;
            const ratio = document.getElementById('blendRatio').value / 100;
            
            const r1 = parseInt(c1.substring(1,3), 16);
            const g1 = parseInt(c1.substring(3,5), 16);
            const b1 = parseInt(c1.substring(5,7), 16);
            
            const r2 = parseInt(c2.substring(1,3), 16);
            const g2 = parseInt(c2.substring(3,5), 16);
            const b2 = parseInt(c2.substring(5,7), 16);
            
            const rMix = Math.floor(r1 * (1 - ratio) + r2 * ratio);
            const gMix = Math.floor(g1 * (1 - ratio) + g2 * ratio);
            const bMix = Math.floor(b1 * (1 - ratio) + b2 * ratio);
            
            const finalHex = "#" + ((1 << 24) + (rMix << 16) + (gMix << 8) + bMix).toString(16).slice(1);
            document.getElementById('Blend_Preview').style.background = finalHex;
        }

        function useTool(type) {
            const currentBlend = document.getElementById('Blend_Preview').style.background;
            alert("Tool " + type + " is now using SE Custom Blend: " + currentBlend);
        }

        // Run on start
        mixColors();
    </script>
</body>
</html>
