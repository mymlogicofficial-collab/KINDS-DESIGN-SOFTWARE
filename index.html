<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>K.I.N.D.S. Workbench - L & M Slideouts</title>
    <style>
        body { background: #0e0e0e; color: #e0e0e0; margin: 0; font-family: sans-serif; overflow: hidden; height: 100vh; display: flex; flex-direction: column; }
        #Area_A { width: 100%; height: 50px; background: #1a1a1a; display: flex; justify-content: space-around; align-items: center; border-bottom: 2px solid #39ff14; z-index: 100; }
        .mag-btn { background: #222; color: #39ff14; border: 1px solid #39ff14; padding: 5px 10px; border-radius: 4px; font-size: 11px; font-weight: bold; }
        
        #Workspace { flex-grow: 1; display: flex; justify-content: center; align-items: center; background: #222; position: relative; }
        #Main_Canvas { width: 80vw; height: 45vh; background: #fff; box-shadow: 0 0 30px #000; transition: transform 0.1s linear; position: relative; }

        /* [L & M] SLIDE-OUT PANELS */
        .side-panel { position: fixed; top: 50px; bottom: 150px; width: 200px; background: #1a1a1a; border: 1px solid #333; transition: 0.3s; z-index: 90; padding: 10px; }
        #Panel_L { left: -220px; border-right: 2px solid #39ff14; } /* Saved Projects */
        #Panel_M { right: -220px; border-left: 2px solid #39ff14; } /* Import */
        
        .panel-open-L { left: 0 !important; }
        .panel-open-M { right: 0 !important; }

        .project-thumb { width: 100%; height: 60px; background: #333; margin-bottom: 10px; border-radius: 4px; display: flex; align-items: center; justify-content: center; font-size: 10px; }

        #Workbench { width: 100%; background: #151515; border-top: 1px solid #333; padding-bottom: 30px; }
        .drawer { display: flex; align-items: center; padding: 12px; border-bottom: 1px solid #222; font-size: 13px; }
        .label { min-width: 90px; color: #888; font-weight: bold; font-size: 10px; text-transform: uppercase; }
    </style>
</head>
<body>

    <div id="Area_A">
        <button class="mag-btn" onclick="togglePanel('L')">[L] PROJECTS</button>
        <button class="mag-btn" onclick="snap0()">ðŸ§² SNAP 0Â°</button>
        <button class="mag-btn" onclick="togglePanel('M')">[M] IMPORT</button>
    </div>

    <div id="Panel_L" class="side-panel">
        <h4 style="color:#39ff14; margin-top:0;">[L] SAVED WORK</h4>
        <div class="project-thumb">PROJECT_01.PNG</div>
        <div class="project-thumb">SE_LOGO_V2.PNG</div>
        <button class="mag-btn" style="width:100%" onclick="saveProject()">SAVE CURRENT</button>
    </div>

    <div id="Panel_M" class="side-panel">
        <h4 style="color:#39ff14; margin-top:0;">[M] GATEWAY</h4>
        <p style="font-size:10px;">Bring image to canvas:</p>
        <input type="file" id="importInput" style="width:100%; font-size:10px;" onchange="importToCanvas(event)">
        <div id="Import_Preview" style="width:100%; height:100px; border:1px dashed #444; margin-top:10px;"></div>
    </div>

    <div id="Workspace">
        <div id="Main_Canvas">
            <img id="Canvas_Img" style="width:100%; height:100%; display:none; object-fit: contain;">
        </div>
    </div>

    <div id="Workbench">
        <div class="drawer">
            <span class="label">STATUS:</span>
            <span id="status-text" style="color:#39ff14;">Workbench Ready</span>
        </div>
    </div>

    <script>
        let rotation = 0;
        let isLocked = false;
        const canvas = document.getElementById('Main_Canvas');

        // [A] MAGNET LOGIC
        function snap0() { rotation = 0; canvas.style.transform = 'rotate(0deg)'; }
        
        // [L & M] TOGGLE LOGIC
        function togglePanel(id) {
            document.getElementById('Panel_'+id).classList.toggle('panel-open-'+id);
        }

        // [M] IMPORT LOGIC
        function importToCanvas(event) {
            const reader = new FileReader();
            reader.onload = function() {
                const img = document.getElementById('Canvas_Img');
                img.src = reader.result;
                img.style.display = 'block';
                document.getElementById('status-text').innerText = "Image Imported [M]";
            }
            reader.readAsDataURL(event.target.files[0]);
        }

        function saveProject() {
            alert("Project Pushed to Vault [L]");
        }
    </script>
</body>
</html>
