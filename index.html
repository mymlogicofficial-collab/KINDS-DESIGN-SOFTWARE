<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>K.I.D.S. Shack - Mobile Fixed</title>
    <style>
        /* Base Layout: Desktop (Side-by-Side) */
        body { font-family: sans-serif; margin: 0; display: flex; height: 100vh; background: #e0eefd; flex-direction: row; }
        
        #work-desk { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; padding: 20px; overflow-y: auto; }
        
        #abb-sidebar { width: 320px; background: white; border-left: 4px solid #333; display: flex; flex-direction: column; padding: 15px; box-shadow: -5px 0 15px rgba(0,0,0,0.1); }
        
        #abb-img { width: 100%; height: 180px; border: 2px solid #333; margin-bottom: 10px; overflow: hidden; background: #eee; }
        #abb-img img { width: 100%; height: 100%; object-fit: cover; }
        
        #chat-box { flex: 1; overflow-y: auto; border-top: 1px solid #ddd; padding-top: 10px; font-size: 1rem; }
        input { width: 90%; padding: 12px; border: 2px solid #333; border-radius: 8px; margin-top: 10px; }

        /* Responsive Fix: Mobile (Stacked) */
        @media (max-width: 768px) {
            body { flex-direction: column; height: auto; overflow-y: auto; }
            #abb-sidebar { width: 100%; border-left: none; border-bottom: 4px solid #333; order: 1; height: 400px; box-sizing: border-box; }
            #work-desk { width: 100%; order: 2; min-height: 400px; box-sizing: border-box; }
        }

        .abb { color: blue; font-weight: bold; margin-bottom: 8px; }
        .user { color: #555; font-style: italic; margin-bottom: 8px; }
    </style>
</head>
<body>
    <div id="abb-sidebar">
        <strong>AbbSistâ„¢</strong>
        <div id="abb-img"><img src="abb.jpg" alt="Abb"></div>
        <div id="chat-box"></div>
        <input type="text" id="input" placeholder="Talk to Abb..." onkeypress="handle(event)">
    </div>

    <div id="work-desk">
        <h2 id="status">Imagination Station</h2>
        <p id="msg">Complete onboarding to unlock your tools.</p>
    </div>

    <script>
        const box = document.getElementById('chat-box');
        let step = 0;
        function print(who, text) {
            box.innerHTML += `<p class="${who === 'Abb' ? 'abb' : 'user'}"><b>${who}:</b> ${text}</p>`;
            box.scrollTop = box.scrollHeight;
        }
        window.onload = () => print("Abb", "I think I'm 100 years old today. Do I look it?");
        function handle(e) {
            if (e.key === 'Enter') {
                const el = document.getElementById('input');
                const val = el.value;
                if (!val) return;
                print("You", val);
                el.value = "";
                setTimeout(() => {
                    if (step === 0) {
                        print("Abb", "I'm bad at guessing! What's your name and how many birthdays have you had?");
                        step = 1;
                    } else if (step === 1) {
                        print("Abb", "Nice to meet you! I've opened the Remedial Coloring station for you. Ready?");
                        document.getElementById('status').innerText = "COLORING OPENED";
                        document.getElementById('msg').innerHTML = "<div style='border:5px solid #333; width:250px; height:250px; margin:auto; background:white; padding:20px;'>[Canvas Ready]</div>";
                        step = 2;
                    }
                }, 600);
            }
        }
    </script>
</body>
</html>
